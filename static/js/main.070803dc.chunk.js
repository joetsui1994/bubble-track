(this["webpackJsonpbubble-track"]=this["webpackJsonpbubble-track"]||[]).push([[0],{157:function(e,t,n){},161:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(11),o=n.n(r),s=(n(157),n(29)),c=n(8),l=n(219),u=n(206),d=n(220),h=n(221),p=n(167),f=n(168),b=n(106),m=n.n(b),j=n(114),g=n.n(j),x=n(113),O=n.n(x),v=n(110),y=n.n(v),N=n(109),S=n.n(N),A=n(107),k=n.n(A),C=n(108),w=n.n(C),I=n(111),B=n.n(I),E=n(112),R=n.n(E),L=n(72),z=n(4),D=n(115),T=Object(D.a)({typography:{fontFamily:['"PTRootUI"',"Open Sans"].join(",")}}),M=(n(161),n(1)),P=Object(u.a)((function(e){return{root:{fontSize:50,fontWeight:500,color:"#fff",opacity:.6,marginLeft:"25%",marginTop:"45vh"}}}));var F=function(e){var t=P(),n=e.drawerOpen;return Object(M.jsx)(p.a,{className:t.root,style:{marginLeft:n?"25%":"30%"},children:"Select graph for analysis."})},G=n(32),X=n(225),W=n(95),H=n.n(W),J=n(96),Q=n.n(J),Z=n(97),Y=n.n(Z),U=n(210),K=n(209),q=n(92),V=n.n(q),_=n(90),$=n.n(_),ee=n(91),te=n.n(ee),ne=n(93),ae=n.n(ne),ie=n(94),re=n.n(ie),oe=n(119),se=Object(u.a)((function(e){return{root:{marginTop:10,borderRadius:0,padding:10,paddingBottom:12,opacity:.9,width:280,overflow:"auto"},graphIndex:{lineHeight:"18px",minWidth:18,display:"inline-block",marginRight:5,padding:1,textAlign:"center",verticalAlign:"middle",fontSize:12,fontWeight:500,border:"1px solid #000"},activeGraphIndex:{backgroundColor:"#054a5c",color:"#fff"},graphID:{fontSize:15,fontWeight:700,maxWidth:170,overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"inline-block",marginBottom:-7},text:{fontSize:12,fontWeight:300,whiteSpace:"normal",cursor:"pointer",display:"inline-block"},scoreBar:{height:6,borderRadius:2,display:"inline-block"},intersectionArrows:{display:"inline-block",margin:0},subText:{display:"block",fontSize:9,fontWeight:300,marginTop:-4},actionButtonsContainer:{display:"inline-block",float:"right"},actionButton:{height:15,width:15,"&:hover":{backgroundColor:"transparent"}}}}));function ce(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(M.jsx)("div",{className:a,style:{width:e?Math.max(e*t,n):"".concat(n,"px"),height:"".concat(n,"px"),backgroundColor:"hsl(".concat(i?100*(1-e):100*e,", 70%, 50%)")}})}var le=function(e){var t=se(),n=e.index,r=e.graph,o=e.active,s=e.handleCalculateQ,l=e.handleRemoveGraph,u=e.handleRetrieveGraph,d=e.handleZoomXY,h=i.a.useState(!1),b=Object(c.a)(h,2),m=b[0],j=b[1],g=function(e){j(e)},x=i.a.useState(0),O=Object(c.a)(x,2),v=O[0],y=O[1];return Object(a.useEffect)((function(){y(0)}),[o]),Object(M.jsxs)(oe.a,{elevation:1,className:t.root,style:{opacity:m?.7:.9},onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:[Object(M.jsx)("div",{className:Object(z.a)(t.graphIndex,o&&t.activeGraphIndex),children:n}),Object(M.jsx)(p.a,{className:t.graphID,children:r.id}),Object(M.jsxs)("div",{className:t.actionButtonsContainer,children:[Object(M.jsx)(f.a,{disabled:!o,color:"inherit",className:t.actionButton,onClick:function(){return s(r)},children:Object(M.jsx)($.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{color:"inherit",className:t.actionButton,onClick:function(){return u(r)},children:Object(M.jsx)(te.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{color:"inherit",className:t.actionButton,onClick:function(){return l(r.id)},children:Object(M.jsx)(V.a,{fontSize:"small"})})]}),Object(M.jsx)("br",{}),Object(M.jsxs)(p.a,{className:t.text,children:[Object(M.jsx)("span",{style:{fontWeight:700},children:"INFO: "}),r.info]}),Object(M.jsx)("br",{}),Object(M.jsxs)(p.a,{className:t.text,children:[Object(M.jsx)("span",{style:{fontWeight:700},children:"NODE_NUM: "}),r.nodesLinks.nodes.length]}),Object(M.jsx)("br",{}),Object(M.jsxs)(p.a,{className:t.text,children:[Object(M.jsx)("span",{style:{fontWeight:700},children:"EDGE_NUM: "}),r.nodesLinks.links.length]}),Object(M.jsx)("br",{}),null===r.intersections?null:Object(M.jsxs)(a.Fragment,{children:[ce(Math.min(r.intersections.length/(r.nodesLinks.links.length/5),1),140,6,t.scoreBar,!0),Object(M.jsx)(p.a,{className:t.text,children:"\xa0\xa0(INTERSECT-Q)"}),Object(M.jsx)(f.a,{disabled:!o||0===v,"aria-label":"previous intersection",className:t.intersectionArrows,size:"small",onClick:function(){null!==r.intersections&&v>=1&&(d(r.intersections[v-1]),y(v-1))},children:Object(M.jsx)(ae.a,{fontSize:"inherit"})}),Object(M.jsx)(f.a,{disabled:!o||!r.intersections.length||v===r.intersections.length-1,"aria-label":"next intersection",className:t.intersectionArrows,size:"small",onClick:function(){null!==r.intersections&&v<=r.intersections.length-2&&(d(r.intersections[v+1]),y(v+1))},children:Object(M.jsx)(re.a,{fontSize:"inherit"})}),Object(M.jsxs)(p.a,{className:t.subText,children:["SCORE_BAR IS SCALED RELATIVE TO EDGE_NUM/",5]}),Object(M.jsxs)(p.a,{className:t.subText,children:["(INTERSECTION_NUM: ",r.intersections.length,")"]})]}),null===r.lenQ?null:Object(M.jsxs)(a.Fragment,{children:[ce(Math.min(r.lenQ.lenDiffFrac%1,1),140,6,t.scoreBar,!0),Object(M.jsxs)(p.a,{className:t.text,children:["\xa0\xa0(",100*Math.round(1e4*r.lenQ.lenDiffFrac)/1e4,"% of ExpLen)"]}),Object(M.jsxs)(p.a,{className:t.subText,children:["(MAX. LEN_DIFF: ",Math.round(1e4*r.lenQ.maxLenDiffFrac)/1e4,")"]})]}),null===r.potentialQ?null:Object(M.jsxs)(a.Fragment,{children:[Object(M.jsxs)(p.a,{className:t.text,children:["POTENTIAL-Q: ",Math.round(1e4*r.potentialQ)/1e4]}),Object(M.jsx)(p.a,{className:t.subText,children:"(LOWER POTENTIAL-Q = BETTER)"})]})]})},ue=Object(u.a)((function(e){return{drawerPaper:{position:"relative",width:300,height:"100vh",background:"#3d3d3d",overflowY:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(G.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),drawerContainer:{height:"100%",paddingBottom:10,overflowY:"scroll",overflowX:"hidden"},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",color:"#fff"},e.mixins.toolbar),divider:{background:"#5c5c5c"},actionButton:{borderRadius:0,fontSize:16,fontWeight:700,height:55,width:300,"&:disabled":{backgroundColor:"#d4d4d4"}}}}));var de=function(e){var t=ue(),n=e.open,a=e.graphs,i=e.currGraph,r=e.handleDrawerClose,o=e.handleAddGraphsDialogOpen,s=e.handleCalculateQ,c=e.handleRemoveGraph,l=e.handleRetrieveGraph,u=e.handleZoomXY;return Object(M.jsxs)(X.a,{variant:"permanent",classes:{paper:Object(z.a)(t.drawerPaper,!n&&t.drawerPaperClose)},open:n,children:[Object(M.jsx)("div",{className:t.toolbarIcon,children:Object(M.jsx)(f.a,{color:"inherit",onClick:r,children:Object(M.jsx)(H.a,{})})}),Object(M.jsx)(K.a,{className:t.divider}),Object(M.jsx)(U.a,{disabled:!0,elevation:0,disableRipple:!0,variant:"contained",style:{borderTop:"0.1px solid #d4d4d4"},className:t.actionButton,startIcon:Object(M.jsx)(Q.a,{}),children:"EIGEN"}),Object(M.jsx)(U.a,{elevation:0,disableRipple:!0,variant:"contained",style:{borderBottom:"0.1px solid #d4d4d4"},className:t.actionButton,onClick:o,startIcon:Object(M.jsx)(Y.a,{}),children:"ADD GRAPH(S)"}),Object(M.jsx)("div",{className:t.drawerContainer,children:a.map((function(e,t){return Object(M.jsx)(le,{index:t+1,graph:e,active:null!==i&&e.id===i.id,handleCalculateQ:s,handleRemoveGraph:c,handleRetrieveGraph:l,handleZoomXY:u},t)}))}),Object(M.jsx)(K.a,{className:t.divider})]})},he=n(5),pe=n(224),fe=n(211),be=n(212),me=n(98),je=n.n(me),ge=Object(u.a)((function(e){return{root:{position:"relative",top:70,zIndex:1},expansion:{background:"#fff",paddingLeft:10,paddingRight:10,color:"#484848"},title:{fontSize:14,fontWeight:700},text:{fontSize:13,fontWeight:500}}})),xe=Object(he.a)({root:{marginBottom:-1,minHeight:45,"&$expanded":{minHeight:45}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(fe.a),Oe=Object(he.a)((function(e){return{root:{paddingTop:0,paddingBottom:13}}}))(be.a);var ve=function(){var e=ge(),t=i.a.useState(!1),n=Object(c.a)(t,2),a=n[0],r=n[1],o=function(e){r(e)};return Object(M.jsx)("div",{className:e.root,style:{opacity:a?.7:.3},onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:Object(M.jsxs)(pe.a,{square:!0,className:e.expansion,children:[Object(M.jsx)(xe,{expandIcon:Object(M.jsx)(je.a,{fontSize:"small"}),children:Object(M.jsx)(p.a,{className:e.title,children:"WHAT IS BUBBLE-track FOR?"})}),Object(M.jsx)(Oe,{children:Object(M.jsxs)(p.a,{className:e.text,children:["This interface was created with the following objectives:",Object(M.jsx)("br",{}),"(1) to facilitate an easy and efficient process of checking and fine-tuning force-directed graphs",Object(M.jsx)("br",{}),"(2) to act as a dashboard for monitoring the visual quality of a large number of force-directed graphs"]})})]})})},ye=n(99),Ne=n(100),Se=n(101),Ae=n(116),ke=n(21),Ce="#dedede",we="#dedede",Ie=1.5;function Be(e,t,n,a){return t-(t-e)*Math.exp(-n*(a-1))}var Ee=function(e){Object(Se.a)(n,e);var t=Object(Ae.a)(n);function n(){var e;Object(ye.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={simulation:null,treeNodes:e.props.graph.nodesLinks.nodes,treeLinks:e.props.graph.nodesLinks.links,transform:null,zoom:null,width:5e3,height:3500,viewWidth:0,viewHeight:0},e.viewRef=i.a.createRef(),e._updateDim=function(){e.setState({viewWidth:e.viewRef.current.offsetWidth,viewHeight:e.viewRef.current.offsetHeight})},e._simulationUpdate=function(e,t){var n=document.getElementById("canvas"),a=e.state,i=a.treeNodes,r=a.treeLinks,o=a.width,s=a.height,c=e.props,l=c.params,u=c.checkExpLen;if(null===n)throw Error("canvas is null");var d=n.getContext("2d");d.save(),d.clearRect(0,0,o,s),d.translate(t.x,t.y),d.scale(t.k,t.k),r.forEach((function(e,t){var n=Ce,a=Ie;if(u){var i=Math.sqrt(Math.pow(e.target.x-e.source.x,2)+Math.pow(e.target.y-e.source.y,2))/l.lambda,r=Math.min(1,Math.abs(i-e.len)/e.len);n="hsl(0, 100%, ".concat(50*(2-r),"%)"),a=Ie+8.5*r}d.beginPath(),d.moveTo(e.source.x,e.source.y),d.lineTo(e.target.x,e.target.y),d.strokeStyle=n,d.lineWidth=a,d.globalAlpha=.95,d.stroke()})),d.lineWidth=Ie,d.stroke(),i.forEach((function(e,t){var n=2*Math.PI,a=e.type>0?Be(l.minR,l.maxR,l.gamma,e.num):l.nonNodeR;d.globalAlpha=.8,d.beginPath(),d.arc(e.x,e.y,a,0,n),d.strokeStyle="#fff",d.lineWidth=0,d.stroke(),d.fillStyle=we,d.fill(),d.beginPath(),d.arc(e.x,e.y,a,0,2*Math.PI),d.strokeStyle="#fff",d.stroke()})),d.restore()},e._zoomTo=function(t,n,a,i){var r=document.getElementById("canvas"),o=ke.h;o.k=i,ke.f(r).call(t.transform,o);var s=o.applyX(n)-e.state.viewWidth/2,c=o.applyY(a)-e.state.viewHeight/2;o.x-=s,o.y-=c,ke.f(r).call(t.transform,o)},e.drawChart=function(e){var t=e.props.params,n=document.getElementById("canvas");n.width=e.state.width,n.height=e.state.height;var a=ke.h,i=ke.e().force("charge",ke.d().strength((function(e){return e.type>0?-t.charge:1}))).force("collide",ke.b().strength(.9).radius((function(e,n){return e.type>0?Be(t.minR,t.maxR,t.gamma,e.num):0}))).force("link",ke.c().id((function(e){return e.id})).distance((function(e){return e.len*t.lambda})).strength(1)).alphaDecay(t.alphaDecay).velocityDecay(t.velocityDecay).alphaMin(t.minAlpha);e.setState({simulation:i});var r=ke.g().scaleExtent([t.minZoom,t.maxZoom]).on("zoom",(function(t){a=t.transform,e._simulationUpdate(e,a),e.setState({transform:a})}));e.setState({zoom:r}),ke.f(n).call(ke.a().subject((function(t){if(!e.props.isFrozen){var n,i,r,o=a.invertX(t.x),s=a.invertY(t.y);if(e.props.locateXYS)e.props.handleSetCursorXYS(o,s,e.state.transform.k);else for(n=e.state.treeNodes.length-1;n>=0;--n){var c=e.state.treeNodes[n];i=o-c.x,r=s-c.y;var l=Be(e.props.params.minR,e.props.params.maxR,e.props.params.gamma,c.num);if(i*i+r*r<=l*l)return c.x=a.applyX(c.x),c.y=a.applyY(c.y),c}}})).on("start",(function(e){e.active||i.alphaTarget(.99).restart();e.subject.fx=a.invertX(e.x),e.subject.fy=a.invertY(e.y)})).on("drag",(function(e){e.subject.fx=a.invertX(e.x),e.subject.fy=a.invertY(e.y)})).on("end",(function(e){e.active||i.alphaTarget(0);e.subject.fx=null,e.subject.fy=null}))).call(r),setTimeout((function(){e._zoomTo(r,t.centreX,t.centreY,t.centreScale)}),0);try{i.nodes(e.state.treeNodes.concat(e.state.treeLinks)).on("tick",(function(){var t,n=this.alpha();return e.props.handleAlphaChange(n),t=n>e.props.params.heatingCutoff?-e.props.params.heatingCharge:-e.props.params.charge,n<=e.props.params.minAlpha&&e.props.handleReheat(!1),e.state.treeLinks.forEach((function(e,t){var n=e.source.x,a=e.target.x,i=e.source.y,r=e.target.y;e.x=(a+n)/2,e.y=(r+i)/2})),this.force("charge",ke.d().strength(t)).force("collide",ke.b().strength(.9).radius((function(t,n){return t.type>0?Be(e.props.params.minR,e.props.params.maxR,e.props.params.gamma,t.num):0}))),e._simulationUpdate(e,a)}))}catch(o){console.log(o),i.stop(),e.props.handleGraphRenderError()}try{i.force("link").links(e.state.treeLinks)}catch(o){console.log(o),i.stop(),e.props.handleGraphRenderError()}e.props.graph.nodesFixed&&(e.state.treeNodes.forEach((function(e){"fxy"in e&&(e.x=e.fxy.x,e.y=e.fxy.y)})),i.stop())},e}return Object(Ne.a)(n,[{key:"componentDidMount",value:function(){try{this.drawChart(this)}catch(e){console.log(e),this.props.handleGraphRenderError()}finally{this.props.setGraphLoading(!1)}this.setState({viewWidth:this.viewRef.current.offsetWidth,viewHeight:this.viewRef.current.offsetHeight}),window.addEventListener("resize",this._updateDim)}},{key:"componentWillUnmount",value:function(){null!==this.state.simulation&&this.state.simulation.stop(),window.removeEventListener("resize",this._updateDim)}},{key:"componentDidUpdate",value:function(e){if(e.isFrozen!==this.props.isFrozen)this.props.isFrozen?this.state.simulation.stop():this.state.simulation.restart();else if(e.isHeating!==this.props.isHeating&&this.props.isHeating)this.state.simulation.alpha(1).alphaDecay(this.props.params.alphaDecay).velocityDecay(this.props.params.velocityDecay).alphaTarget(0).restart();else if(JSON.stringify(e.params)!==JSON.stringify(this.props.params)||e.checkExpLen!==this.props.checkExpLen)if(e.params.lambda!==this.props.params.lambda){var t=this.props.params.lambda;this.state.simulation.force("link",ke.c().links(this.state.treeLinks).id((function(e){return e.id})).distance((function(e){return e.len*t})).strength(1))}else e.params.minZoom!==this.props.params.minZoom||e.params.maxZoom!==this.props.params.maxZoom?this.setState({zoom:this.state.zoom.scaleExtent([this.props.params.minZoom,this.props.params.maxZoom])}):e.params.minAlpha!==this.props.params.minAlpha?this.state.simulation.alphaMin(this.props.params.minAlpha):this._simulationUpdate(this,this.state.transform);else if(e.zoomGo!==this.props.zoomGo)this._zoomTo(this.state.zoom,this.props.params.centreX,this.props.params.centreY,this.props.params.centreScale);else if(e.centreGo!==this.props.centreGo){var n=this.state.treeNodes.reduce((function(e,t){return e+t.x}),0)/this.state.treeNodes.length,a=this.state.treeNodes.reduce((function(e,t){return e+t.y}),0)/this.state.treeNodes.length;this._zoomTo(this.state.zoom,n,a,this.props.params.centreScale)}else if(e.locateXYS!==this.props.locateXYS){var i=document.getElementById("canvas");this.props.locateXYS?i.setAttribute("style","cursor: crosshair"):i.setAttribute("style","cursor: auto")}else(null===e.zoomXY&&null!==this.props.zoomXY||null!==e.zoomXY&&null!==this.props.zoomXY&&e.zoomXY.id!==this.props.zoomXY.id)&&this._zoomTo(this.state.zoom,this.props.zoomXY.x,this.props.zoomXY.y,1)}},{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{style:{backgroundColor:"#292929",overflow:"hidden",position:"absolute",top:0,left:0},id:"snapshot",ref:this.viewRef,children:Object(M.jsx)("div",{style:{overflowY:"hidden",overflowX:"hidden",minHeight:400,height:"100vh",width:"100vw"},children:Object(M.jsx)("canvas",{id:"canvas",style:{display:"block"},ref:function(t){return e.canvas=t}})})})}}]),n}(a.Component),Re=n(217),Le=n(227),ze=n(226),De=n(216),Te=n(215),Me=n(213),Pe=n(214),Fe={minR:"Minimum radius of non-SEQLESS nodes, must be smaller than Max-R and less than 999. (Default = 7)",maxR:"Maximum radius of non-SEQLESS nodes, must be larger than Min-R and larger than 999. (Default = 100)",gamma:"Gamma determines the steepness between minR and maxR, with a larger Gamma value leading to a steeper gradient. (Default = 0.1)",nonNodeR:"Radius of SEQLESS nodes, must be smaller than minR. (Default = 5)",lambda:"Lambda determines the scaling of branch lengths. (Default = 15000000)",charge:"The larger the charge magnitude, the stronger the repulsion between non-SEQLESS nodes. (Default = 200)",minZoom:"Minimum zoom ratio. (Default = 0.08)",maxZoom:"Maximum zoom ratio. (Default = 6)",alphaDecay:"Alpha decay determines how quickly alpha drops towards the desired target alpha, or how quickly the simulation cools, must be between 0 and 1. (Default = 0.03)",velocityDecay:"Velocity decay determines the viscosity of the ambient atmosphere, with a smaller value often leading to better equilibria, must be between 0 and 1. (Default = 0.1)",minAlpha:"Minimum possible value of alpha below which the simulation is stopped, must be larger than 0. (Default = 0.001)",heatingCharge:"Charge magnitude during the early phase of annealing when particles are heated to a higher temperature to avoid local minima, must be larger than (static) charge. (Default = 2000)",heatingCutoff:"Heating-cutoff determines the alpha value below which particles are not longer heated to a higher temperature and are allowed to cool off to a static equilibirum, must be between 0.001 (alphaMin) and 1. (Default = 0.1)",centreX:"x-coordinate of centering. The x-coordinate of the geometric centre of the graph is used by default if left unspecified.",centreY:"y-coordinate of centering. The y-coordinate of the geometric centre of the graph is used by default if left unspecified.",centreScale:"Zoom ratio. (Default = 0.1)",intScale:"Zoom ratio for tracking link-crossing. (Default = 0.5)",none:"N/A"},Ge=Object(u.a)((function(e){return{actionButton:{color:"#484848",fontWeight:700},subTitle:{fontSize:13,fontWeight:500,marginBottom:10},helperText:{marginTop:-5,marginBottom:10,fontSize:12,fontWeight:300,lineHeight:"15px"},inputLabel:{"&.Mui-focused":{color:"#054a5c"}}}})),Xe=Object(he.a)((function(e){return{root:{padding:"15px 20px 0px 20px",maxWidth:360}}}))(Me.a),We=Object(he.a)((function(e){return{root:{margin:0,padding:7}}}))(Pe.a),He=Object(he.a)((function(e){return{root:{backgroundColor:"#e6e6e6",padding:10,paddingLeft:20,paddingRight:20}}}))(Te.a),Je=Object(he.a)((function(e){return{root:{borderRadius:2,fontSize:11,width:80,marginRight:10,marginBottom:10,"&:hover $notchedOutline":{borderColor:"#054a5c"},"&$focused $notchedOutline":{borderColor:"#054a5c"}},focused:{},notchedOutline:{}}}))(ze.a);function Qe(e){var t=Ge(),n=e.open,a=e.params,r=e.handleClose,o=e.handleParamsApply,s=i.a.useState(JSON.parse(JSON.stringify(a))),l=Object(c.a)(s,2),u=l[0],d=l[1],h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=JSON.parse(JSON.stringify(u)),i=e.target.value,r=!isNaN(i)||"-"===i;r&&(n||""===i||parseFloat(i)>=0)&&(a[t]=i,d(a))},f=i.a.useState("none"),b=Object(c.a)(f,2),m=b[0],j=b[1],g=function(e,t){e.preventDefault(),e.stopPropagation(),S(null),j(t)},x=function(e,t){if(e.preventDefault(),e.stopPropagation(),S(null),j("none"),!String(u[t]).replace(/\s/g,"").length){var n=JSON.parse(JSON.stringify(a));n[t]=a[t],d(n)}},O=i.a.useState(null),v=Object(c.a)(O,2),y=v[0],N=v[1],S=function(e){N(e)};return i.a.useEffect((function(){d(JSON.parse(JSON.stringify(a)))}),[n,a]),Object(M.jsxs)(De.a,{open:n,onClose:r,"aria-labelledby":"form-dialog-title",children:[Object(M.jsx)(He,{children:"Graph Parameters"}),Object(M.jsxs)(Xe,{children:[Object(M.jsx)(p.a,{className:t.subTitle,children:"STATIC PARAMETERS"}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Min-R"}),Object(M.jsx)(Je,{margin:"dense",value:u.minR,onChange:function(e){return h(e,"minR")},onFocus:function(e){return g(e,"minR")},onBlur:function(e){return x(e,"minR")},labelWidth:44})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Max-R"}),Object(M.jsx)(Je,{margin:"dense",value:u.maxR,onChange:function(e){return h(e,"maxR")},onFocus:function(e){return g(e,"maxR")},onBlur:function(e){return x(e,"maxR")},labelWidth:47})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Gamma"}),Object(M.jsx)(Je,{margin:"dense",value:u.gamma,onChange:function(e){return h(e,"gamma")},onFocus:function(e){return g(e,"gamma")},onBlur:function(e){return x(e,"gamma")},labelWidth:58})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"0Node-R"}),Object(M.jsx)(Je,{margin:"dense",value:u.nonNodeR,onChange:function(e){return h(e,"nonNodeR")},onFocus:function(e){return g(e,"nonNodeR")},onBlur:function(e){return x(e,"nonNodeR")},labelWidth:70,style:{marginRight:0}})]}),Object(M.jsx)("br",{}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Lambda"}),Object(M.jsx)(Je,{margin:"dense",value:u.lambda,onChange:function(e){return h(e,"lambda")},onFocus:function(e){return g(e,"lambda")},onBlur:function(e){return x(e,"lambda")},labelWidth:59})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Charge"}),Object(M.jsx)(Je,{margin:"dense",value:u.charge,onChange:function(e){return h(e,"charge")},onFocus:function(e){return g(e,"charge")},onBlur:function(e){return x(e,"charge")},labelWidth:54})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Min-Z"}),Object(M.jsx)(Je,{margin:"dense",value:u.minZoom,onChange:function(e){return h(e,"minZoom")},onFocus:function(e){return g(e,"minZoom")},onBlur:function(e){return x(e,"minZoom")},labelWidth:44})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Max-Z"}),Object(M.jsx)(Je,{margin:"dense",value:u.maxZoom,onChange:function(e){return h(e,"maxZoom")},onFocus:function(e){return g(e,"maxZoom")},onBlur:function(e){return x(e,"maxZoom")},labelWidth:46,style:{marginRight:0}})]}),Object(M.jsx)("br",{}),Object(M.jsx)(p.a,{className:t.subTitle,style:{marginTop:5},children:"ANNEALING PARAMETERS"}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"A-Decay"}),Object(M.jsx)(Je,{margin:"dense",value:u.alphaDecay,onChange:function(e){return h(e,"alphaDecay")},onFocus:function(e){return g(e,"alphaDecay")},onBlur:function(e){return x(e,"alphaDecay")},labelWidth:63})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"V-Decay"}),Object(M.jsx)(Je,{margin:"dense",value:u.velocityDecay,onChange:function(e){return h(e,"velocityDecay")},onFocus:function(e){return g(e,"velocityDecay")},onBlur:function(e){return x(e,"velocityDecay")},labelWidth:63})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Min-A"}),Object(M.jsx)(Je,{margin:"dense",value:u.minAlpha,onChange:function(e){return h(e,"minAlpha")},onFocus:function(e){return g(e,"minAlpha")},onBlur:function(e){return x(e,"minAlpha")},labelWidth:47})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"H-Temp"}),Object(M.jsx)(Je,{margin:"dense",value:u.heatingCharge,onChange:function(e){return h(e,"heatingCharge")},onFocus:function(e){return g(e,"heatingCharge")},onBlur:function(e){return x(e,"heatingCharge")},labelWidth:58})]}),Object(M.jsx)("br",{}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"H-Cutoff"}),Object(M.jsx)(Je,{margin:"dense",value:u.heatingCutoff,onChange:function(e){return h(e,"heatingCutoff")},onFocus:function(e){return g(e,"heatingCutoff")},onBlur:function(e){return x(e,"heatingCutoff")},labelWidth:67,style:{marginRight:0}})]}),Object(M.jsx)(p.a,{className:t.subTitle,style:{marginTop:5},children:"CENTERING"}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"x"}),Object(M.jsx)(Je,{margin:"dense",value:u.centreX,onChange:function(e){return h(e,"centreX",!0)},onFocus:function(e){return g(e,"centreX")},onBlur:function(e){return x(e,"centreX")},labelWidth:9})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"y"}),Object(M.jsx)(Je,{margin:"dense",value:u.centreY,onChange:function(e){return h(e,"centreY",!0)},onFocus:function(e){return g(e,"centreY")},onBlur:function(e){return x(e,"centreY")},labelWidth:9})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Z-Scale"}),Object(M.jsx)(Je,{margin:"dense",value:u.centreScale,onChange:function(e){return h(e,"centreScale")},onFocus:function(e){return g(e,"centreScale")},onBlur:function(e){return x(e,"centreScale")},labelWidth:56})]}),Object(M.jsxs)(Re.a,{variant:"outlined",children:[Object(M.jsx)(Le.a,{className:t.inputLabel,children:"Int-Scale"}),Object(M.jsx)(Je,{margin:"dense",value:u.intScale,onChange:function(e){return h(e,"intScale")},onFocus:function(e){return g(e,"intScale")},onBlur:function(e){return x(e,"intScale")},labelWidth:66})]}),Object(M.jsx)("br",{}),Object(M.jsx)(p.a,{className:t.subTitle,style:{marginTop:5},children:"HELPER TEXT"}),Object(M.jsx)(p.a,{className:t.helperText,children:null!==y&&void 0!==y?y:Fe[m]}),Object(M.jsx)(K.a,{fullWidth:!0})]}),Object(M.jsxs)(We,{children:[Object(M.jsx)(U.a,{className:t.actionButton,onClick:r,children:"Cancel"}),Object(M.jsx)(U.a,{className:t.actionButton,onClick:function(e){parseFloat(u.minR)>999||parseFloat(u.minR)>parseFloat(u.maxR)?S("Min-R must be less than 999 and less than Max-R."):parseFloat(u.maxR)>999?S("Max-R must be less than 999 and greater than Min-R."):parseFloat(u.nonNodeR)>parseFloat(u.minR)?S("SEQLESS nodes must have radius smaller than Min-R."):parseFloat(u.minZoom)>parseFloat(u.maxZoom)?S("Minimum zoom ratio must be smaller than maximum zoom ratio."):0===parseFloat(u.alphaDecay)||parseFloat(u.alphaDecay)>=1?S("alphaDecay must be between 0 and 1."):0===parseFloat(u.velocityDecay)||parseFloat(u.velocityDecay)>=1?S("velocityDecay must be between 0 and 1."):parseFloat(u.heatingCutoff)<=parseFloat(u.minAlpha)||parseFloat(u.heatingCutoff)>=1?S("Heating-cutoff must be between minAlpha and 1."):Object.values(u).every((function(e){return String(e).replace(/\s/g,"").length}))?(S(null),r(),o(u)):S("There are unspecified parameters.")},children:"Apply"})]})]})}var Ze=n(49),Ye=n.n(Ze),Ue=n(104),Ke=n(222),qe=n(223),Ve=n(74),_e=n.n(Ve);function $e(e){var t=e.name,n=e.size,a=t.split(".").pop();return["json","txt"].includes(a)?n>5e8?{status:1,errMessage:"Maximum file size (500MB) exceeded.",fileName:"N/A",fileSize:"N/A",content:null}:{status:0,errMessage:"",fileName:t,fileSize:n,file:e}:{status:1,errMessage:"File type not allowed.",fileName:"N/A",fileSize:"N/A",content:null}}function et(e){if(e<1e3)return"".concat(e," B");if(e>=1e3&&e<1e6){var t=e/1e3;return"".concat(Math.round(100*t)/100," KB")}if(e>1e6){var n=e/1e6;return"".concat(Math.round(100*n)/100," KB")}}var tt={minR:7,maxR:200,gamma:.1,nonNodeR:5,lambda:15e6,charge:200,minZoom:.05,maxZoom:6,alphaDecay:.03,velocityDecay:.1,minAlpha:.001,heatingCharge:5e3,heatingCutoff:.1,centreX:-167.2703,centreY:-1547.4755,centreScale:.1,intScale:.5},nt=Object(he.a)({root:{"& label.Mui-focused":{color:"#054a5c"},"& .MuiFilledInput-underline:after":{borderBottomColor:"#054a5c"},"& .MuiInput-underline:after":{borderBottomColor:"#054a5c"}}})(Ke.a),at=Object(u.a)((function(e){return{actionButton:{color:"#484848",fontWeight:700},subTitle:{fontSize:13,fontWeight:500,marginBottom:10},helperText:{marginTop:-5,marginBottom:10,fontSize:12,fontWeight:300,lineHeight:"15px"},fileInput:{display:"none"},uploadButton:{backgroundColor:"#054a5c",color:"#fff",padding:10,width:100,marginRight:20,boxShadow:1,marginBottom:10,marginTop:-5,"&:hover":{backgroundColor:"#054a5c",opacity:.8}},fileInfo:{fontSize:11,fontWeight:300,maxWidth:220,display:"inline-block",overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},checkboxText:{display:"inline-block",fontSize:13,fontWeight:500},checkbox:{padding:0,marginLeft:15,color:"#054a5c","&$checked":{color:"#054a5c"},"&$disabled":{color:"#bfbfbf"},"&:hover":{background:"transparent"}},checked:{},disabled:{},urlInput:{width:300,margin:0,marginBottom:15},graphIdInput:{marginTop:-5,marginBottom:15},loadGraphButton:{width:15,height:15,margin:10,marginLeft:15,"&:hover":{backgroundColor:"transparent"}},inputLabel:{"&.Mui-focused":{color:"#054a5c"}}}})),it=Object(he.a)((function(e){return{root:{padding:"15px 20px 0px 20px",width:350}}}))(Me.a),rt=Object(he.a)((function(e){return{root:{margin:0,padding:7}}}))(Pe.a),ot=Object(he.a)((function(e){return{root:{backgroundColor:"#e6e6e6",padding:10,paddingLeft:20,paddingRight:20}}}))(Te.a);function st(e){var t=at(),n=e.open,r=e.graphs,o=e.handleClose,s=e.handleAddGraph,l=i.a.useState(""),u=Object(c.a)(l,2),d=u[0],h=u[1],b=i.a.useState(!1),m=Object(c.a)(b,2),j=m[0],g=m[1],x=i.a.useState(!0),O=Object(c.a)(x,2),v=O[0],y=O[1],N=i.a.useState(!1),S=Object(c.a)(N,2),A=S[0],k=S[1],C=i.a.useState(!1),w=Object(c.a)(C,2),I=w[0],B=w[1],E=i.a.useState("N/A"),R=Object(c.a)(E,2),L=R[0],z=R[1],D=i.a.useState(null),T=Object(c.a)(D,2),P=T[0],F=T[1],G=i.a.useState({fileName:"N/A",fileSize:"N/A",content:null}),X=Object(c.a)(G,2),W=X[0],H=X[1],J=i.a.useState({fileName:"N/A",fileSize:"N/A",content:null}),Q=Object(c.a)(J,2),Z=Q[0],Y=Q[1],q=function(){o(),H({fileName:"N/A",fileSize:"N/A",content:null}),Y({fileName:"N/A",fileSize:"N/A",content:null}),B(!1),g(!1),y(!0)},V=function(e){z(e);var t=setTimeout((function(){z("N/A")}),2e3);null!==P?(clearTimeout(P),F(t)):F(t)},_=function(e){if(null===e)return null;var t=JSON.parse(JSON.stringify(e));return Object.entries(tt).forEach((function(e){var n=Object(c.a)(e,2),a=n[0],i=n[1];a in t||(t[a]=i)})),t},$=function(e){var t=new FileReader;return new Promise((function(n,a){t.onerror=function(){t.abort(),V("File successfully uploaded."),a(new DOMException("Problem parsing input file."))},t.onload=function(){n(t.result)},t.readAsText(e)}))},ee=function(){var e=Object(Ue.a)(Ye.a.mark((function e(t,n){var a,i,r,o,s;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),t.target&&t.target.files&&null!==t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:if(B(!0),n({fileName:"N/A",fileSize:"N/A",content:null}),a=t.target.files,i=a.item(a.length-1),(r=$e(i)).status){e.next=26;break}return e.prev=9,e.next=12,$(i);case 12:o=e.sent,s=JSON.parse(o),n({fileName:r.fileName,fileSize:r.fileSize,content:s}),V("".concat(r.fileName," successfully uploaded.")),B(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(9),console.log(e.t0),V("Problem parsing input file."),B(!1);case 24:e.next=27;break;case 26:V(r.errMessage);case 27:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){for(var e=r.map((function(e){return e.id})),t=e.length+1,n="Untitled-Graph-".concat(t);e.includes(n);)n="Untitled-Graph-".concat(t+=1);h(n)}),[n,r]),Object(M.jsxs)(De.a,{open:n,onClose:q,"aria-labelledby":"form-dialog-title",children:[Object(M.jsx)(ot,{id:"form-dialog-title",children:"Add Graph(s)"}),Object(M.jsxs)(it,{children:[Object(M.jsx)(p.a,{className:t.subTitle,children:"GRAPH IDENTIFIER:"}),Object(M.jsx)(nt,{label:"",placeholder:"untitled-graph-01",fullWidth:!0,margin:"dense",className:t.graphIdInput,inputProps:{style:{fontSize:13}},InputLabelProps:{shrink:!0},onChange:function(e){h(e.target.value)},value:d}),Object(M.jsx)(p.a,{className:t.subTitle,children:"NODES/LINKS.json WEB LINK:"}),Object(M.jsx)(nt,{disabled:!0,label:"URL",placeholder:"https://link-to-nodes_links.json",fullWidth:!0,margin:"dense",className:t.urlInput,inputProps:{style:{fontSize:13}},InputLabelProps:{shrink:!0},variant:"filled"}),Object(M.jsx)(f.a,{"aria-label":"download json",className:t.loadGraphButton,disabled:!0,children:Object(M.jsx)(_e.a,{disableRipple:!0,fontSize:"medium"})}),Object(M.jsx)(p.a,{className:t.subTitle,children:"NODES/LINKS.json:"}),Object(M.jsx)("input",{accept:".json",disabled:I,className:t.fileInput,id:"graph_file-upload",multiple:!1,type:"file",onChange:function(e){return ee(e,H)}}),Object(M.jsx)("label",{htmlFor:"graph_file-upload",children:Object(M.jsx)(U.a,{variant:"contained",component:"span",className:t.uploadButton,children:"Upload"})}),Object(M.jsxs)(p.a,{className:t.fileInfo,children:["FILENAME: ",W.fileName,Object(M.jsx)("br",{}),"FILESIZE: ","N/A"===W.fileSize?"N/A":et(W.fileSize)]}),Object(M.jsx)(K.a,{fullWidth:!0,style:{margin:"10px 0px 10px 0px"}}),Object(M.jsx)(p.a,{className:t.subTitle,children:"GRAPH_PARAMS.json WEB LINK:"}),Object(M.jsx)(nt,{disabled:!0,label:"URL",placeholder:"https://link-to-graph_params.json",fullWidth:!0,margin:"dense",className:t.urlInput,inputProps:{style:{fontSize:13}},InputLabelProps:{shrink:!0},variant:"filled"}),Object(M.jsx)(f.a,{"aria-label":"download json",className:t.loadGraphButton,disabled:!0,children:Object(M.jsx)(_e.a,{disableRipple:!0,fontSize:"medium"})}),Object(M.jsx)("br",{}),Object(M.jsx)(p.a,{className:t.subTitle,children:"GRAPH_PARAMS.json:"}),Object(M.jsx)("input",{accept:".json",disabled:I,className:t.fileInput,id:"params_file-upload",multiple:!1,type:"file",onChange:function(e){return ee(e,Y)}}),Object(M.jsx)("label",{htmlFor:"params_file-upload",children:Object(M.jsx)(U.a,{variant:"contained",component:"span",className:t.uploadButton,children:"Upload"})}),Object(M.jsxs)(p.a,{className:t.fileInfo,children:["FILENAME: ",Z.fileName,Object(M.jsx)("br",{}),"FILESIZE: ","N/A"===Z.fileSize?"N/A":et(Z.fileSize)]}),Object(M.jsx)("br",{}),Object(M.jsx)(p.a,{className:t.checkboxText,children:"Graph has been previously annealed:"}),Object(M.jsx)(qe.a,{checked:j,classes:{root:t.checkbox,checked:t.checked},onChange:function(){g(!j)}}),Object(M.jsx)("br",{}),Object(M.jsx)(p.a,{className:t.checkboxText,children:"Calculate quality scores:"}),Object(M.jsx)(qe.a,{disabled:!j,checked:j&&v,classes:{root:t.checkbox,checked:t.checked,disabled:t.disabled},onChange:function(){y(!v)}}),Object(M.jsx)("br",{}),Object(M.jsxs)(p.a,{className:t.checkboxText,children:["Add invisible node(s) to links (",Object(M.jsx)("span",{style:{fontStyle:"italic"},children:"experimental"}),"):"]}),Object(M.jsx)(qe.a,{disabled:j,checked:!j&&A,classes:{root:t.checkbox,checked:t.checked,disabled:t.disabled},onChange:function(){k(!A)}}),Object(M.jsx)("br",{}),Object(M.jsx)(p.a,{className:t.subTitle,style:{marginTop:10},children:"HELPER TEXT"}),Object(M.jsx)(p.a,{className:t.helperText,children:L}),Object(M.jsx)(K.a,{fullWidth:!0})]}),Object(M.jsxs)(rt,{children:[Object(M.jsx)(U.a,{className:t.actionButton,onClick:q,children:"Cancel"}),Object(M.jsx)(U.a,{disabled:null===W.content,className:t.actionButton,onClick:function(){if(r.map((function(e){return e.id})).includes(d))V("Graph ID already exists.");else{var e,t=new Date,n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),a=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),i="".concat(n,"_").concat(a),o="".concat(W.fileName,", ").concat(i);s(d,W.content,o,null!==(e=_(Z.content))&&void 0!==e?e:tt,j,j&&v),q()}},children:"Add"})]})]})}var ct=n(218),lt=n(105),ut=n.n(lt),dt=Object(u.a)((function(e){return{text:{fontSize:14,fontWeight:300},failureIcon:{verticalAlign:"bottom",marginRight:10},progressBar:{marginTop:10,marginBottom:5,backgroundColor:"red"}}})),ht=Object(he.a)((function(e){return{colorPrimary:{backgroundColor:"#a8a8a8"},bar:{borderRadius:5,backgroundColor:"#054a5c"}}}))(ct.a),pt=Object(he.a)((function(e){return{root:{padding:"15px 20px 15px 20px",maxWidth:280}}}))(Me.a),ft=Object(he.a)((function(e){return{root:{backgroundColor:"#e6e6e6",padding:10,paddingLeft:20,paddingRight:20}}}))(Te.a);function bt(e){var t=dt(),n=e.graphLoading,i=e.graphRenderError;return Object(M.jsxs)(De.a,{open:n||i,onClose:null,children:[Object(M.jsx)(ft,{children:"Loading Graph"}),Object(M.jsx)(pt,{children:n?Object(M.jsxs)(a.Fragment,{children:[Object(M.jsx)(p.a,{className:t.text,children:"Please wait, it should only take a few seconds..."}),Object(M.jsx)(ht,{className:t.progressBar})]}):Object(M.jsxs)(p.a,{className:t.text,children:[Object(M.jsx)(ut.a,{className:t.failureIcon,size:"medium"})," Failed to load graph. Please try again."]})})]})}var mt=function(e){var t=(e.target.y-e.source.y)/(e.target.x-e.source.x);return function(n){return t*(n-e.target.x)+e.target.y}};function jt(e){return e.reduce((function(t,n,a){var i=e.reduce((function(e,t,i){if(i>=a){if(n.id!==t.id&&![n.target.id,n.source.id].includes(t.source.id)&&![n.target.id,n.source.id].includes(t.target.id)){var r=function(e,t){var n=e.target.x-e.source.x===0,a=t.target.x-t.source.x===0;if(n&&!a){var i=mt(t)(e.source.x);return{x:e.source.x,y:i}}if(!n&&a){var r=mt(e)(t.source.x);return{x:t.source.x,y:r}}if(n&&a)return!1;var o=(e.target.y-e.source.y)/(e.target.x-e.source.x),s=(t.target.y-t.source.y)/(t.target.x-t.source.x);if(o===s)return!1;var c=(e.target.y-o*e.target.x-(t.target.y-s*t.target.x))/(s-o);return{x:c,y:mt(e)(c)}}(n,t);r&&function(e,t,n){var a=(t.source.y-e.y)*(t.target.y-e.y)<=0&&(t.source.x-e.x)*(t.target.x-e.x)<=0,i=(n.source.y-e.y)*(n.target.y-e.y)<=0&&(n.source.x-e.x)*(n.target.x-e.x)<=0;return a&&i}(r,n,t)&&e.push({id:"".concat(n.id,"_").concat(t.id),x:r.x,y:r.y})}return e}return e}),[]);return t.concat(i)}),[])}function gt(e,t){var n=0,a=0,i=0;return e.forEach((function(e){n+=e.len;var r=Math.sqrt(Math.pow(e.target.x-e.source.x,2)+Math.pow(e.target.y-e.source.y,2))/t;a+=r;var o=Math.abs(r-e.len)/e.len;o>i&&(i=o)})),{lenDiffFrac:a/n,maxLenDiffFrac:i}}function xt(e){return e.nodes.reduce((function(t,n,a){return t+e.nodes.reduce((function(e,t,i){if(i>a){var r=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));return e+n.num*t.num/r}return e}),0)}),0)}var Ot=Object(u.a)((function(e){return{root:{display:"flex",background:"#292929"},content:{flexGrow:1,height:"100vh",overflow:"hidden"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"#054a5c",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:300,width:"calc(100% - ".concat(300,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24},menuButton:{marginRight:25,marginLeft:2},menuButtonHidden:{display:"none"},actionButton:{marginRight:0},reheatButtonHeating:{color:"#f20000"},freeButtonFrozen:{color:"#00cce3"},title:{flexGrow:1,fontWeight:500,fontSize:17},xyText:{fontWeight:700,fontSize:14,borderRadius:3,padding:10,margin:5,backgroundColor:"rgb(50, 50, 50, 0.7)",opacity:.8,overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},bubbleLogo:{height:20,marginLeft:20,verticalAlign:"middle"}}}));var vt=function(){var e,t,n,a=Ot(),r=i.a.useState(!0),o=Object(c.a)(r,2),u=o[0],b=o[1],j=i.a.useState([]),x=Object(c.a)(j,2),v=x[0],N=x[1],A=i.a.useState(!1),C=Object(c.a)(A,2),I=C[0],E=C[1],D=i.a.useState(!1),P=Object(c.a)(D,2),G=P[0],X=P[1],W=i.a.useState(null),H=Object(c.a)(W,2),J=H[0],Q=H[1],Z=i.a.useState(null),Y=Object(c.a)(Z,2),U=Y[0],K=Y[1],q=i.a.useState(!1),V=Object(c.a)(q,2),_=V[0],$=V[1],ee=i.a.useState(!1),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],ie=i.a.useState(1),re=Object(c.a)(ie,2),oe=re[0],se=re[1],ce=i.a.useState(!1),le=Object(c.a)(ce,2),ue=le[0],he=le[1],pe=i.a.useState({x:null,y:null}),fe=Object(c.a)(pe,2),be=fe[0],me=fe[1],je=i.a.useState(!1),ge=Object(c.a)(je,2),xe=ge[0],Oe=ge[1],ye=i.a.useState(!1),Ne=Object(c.a)(ye,2),Se=Ne[0],Ae=Ne[1],ke=i.a.useState(!1),Ce=Object(c.a)(ke,2),we=Ce[0],Ie=Ce[1],Be=i.a.useState(null),Re=Object(c.a)(Be,2),Le=Re[0],ze=Re[1],De=i.a.useState(!1),Te=Object(c.a)(De,2),Me=Te[0],Pe=Te[1],Fe=i.a.useState(!1),Ge=Object(c.a)(Fe,2),Xe=Ge[0],We=Ge[1],He=function(e,t){E(!0),Q(null),setTimeout((function(){K(e.params),Q(e)}),t)},Je=function(e){var t=v.filter((function(t){return t.id!==e}));N(t),null!==J&&J.id===e&&Q(null)},Ze=function(e){Xe&&We(!1),Pe(e)};return i.a.useEffect((function(){Ie(!1)}),[J]),Object(M.jsx)(l.a,{theme:T,children:Object(M.jsxs)("div",{className:a.root,children:[Object(M.jsx)(d.a,{position:"absolute",elevation:2,className:Object(z.a)(a.appBar,u&&a.appBarShift),children:Object(M.jsxs)(h.a,{className:a.toolbar,children:[Object(M.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},className:Object(z.a)(a.menuButton,u&&a.menuButtonHidden),children:Object(M.jsx)(m.a,{fontSize:"small"})}),Object(M.jsxs)(p.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title,children:["BUBBLE-track",Object(M.jsx)("img",{src:"data:image/png;base64,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",className:a.bubbleLogo,alt:"bubbleLogo"})]}),Object(M.jsxs)(p.a,{variant:"body1",color:"inherit",className:a.xyText,children:["alpha: ",oe]}),Object(M.jsxs)(p.a,{variant:"body1",color:"inherit",className:a.xyText,children:["x: ",null!==(e=be.x)&&void 0!==e?e:"NULL"]}),Object(M.jsxs)(p.a,{variant:"body1",color:"inherit",className:a.xyText,children:["y: ",null!==(t=be.y)&&void 0!==t?t:"NULL"]}),Object(M.jsxs)(p.a,{variant:"body1",color:"inherit",className:a.xyText,children:["k: ",null!==(n=be.s)&&void 0!==n?n:"NULL"]}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:"inherit","aria-label":"export graph",onClick:function(){var e="".concat(J.id,"_nodesLinks.json"),t="".concat(J.id,"_params.json"),n=new Blob([JSON.stringify(J.nodesLinks)],{type:"application/json",name:e}),a=new Blob([JSON.stringify(U)],{type:"application/json",name:t});Object(L.saveAs)(n,e),Object(L.saveAs)(a,t)},className:a.actionButton,children:Object(M.jsx)(k.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:ue?"#484848":"inherit","aria-label":"locate xy",onClick:function(){he(!ue)},className:a.actionButton,children:Object(M.jsx)(w.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:"inherit","aria-label":"change grpah parameters",onClick:function(){$(!0)},className:a.actionButton,children:Object(M.jsx)(S.a,{fontSize:"small"})}),null===U?null:Object(M.jsx)(Qe,{open:_,params:U,handleClose:function(){$(!1)},handleParamsApply:function(e){var t=JSON.parse(JSON.stringify(e)),n=Object(s.a)(Object(s.a)({},J),{},{params:t}),a=v.map((function(e){return e.id===J.id?n:e}));K(t),Q(n),N(a)}}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:"inherit","aria-label":"centre graph",onClick:function(){Ie(!we)},className:a.actionButton,children:Object(M.jsx)(y.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:"inherit","aria-label":"go to geometric centre",onClick:function(){Ae(!Se)},className:a.actionButton,children:Object(M.jsx)(B.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:xe?"#484848":"inherit","aria-label":"check ExpLen",onClick:function(){Oe(!xe)},className:a.actionButton,children:Object(M.jsx)(R.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:"inherit","aria-label":"freeze graph",onClick:function(){We(!Xe)},className:Object(z.a)(a.actionButton,Xe&&a.freeButtonFrozen),children:Object(M.jsx)(O.a,{fontSize:"small"})}),Object(M.jsx)(f.a,{disabled:null===J,edge:"end",color:"inherit","aria-label":"reheat graph",onClick:function(){return Ze(!0)},className:Object(z.a)(a.actionButton,Me&&a.reheatButtonHeating),children:Object(M.jsx)(g.a,{fontSize:"small"})})]})}),Object(M.jsx)(de,{open:u,graphs:v,currGraph:J,handleCalculateQ:function(e){var t=jt(e.nodesLinks.links),n=gt(e.nodesLinks.links,e.params.lambda),a=xt(e.nodesLinks),i=Object(s.a)(Object(s.a)({},e),{},{intersections:t,lenQ:n,potentialQ:a}),r=v.map((function(t){return t.id===e.id?i:t}));Q(i),N(r)},handleRemoveGraph:Je,handleRetrieveGraph:function(e){e=Object(s.a)(Object(s.a)({},e),{},{intersections:null,lenQ:null,potentialQ:null});var t=v.map((function(t){return t.id===e.id?e:t}));N(t),He(e,2e3)},handleDrawerClose:function(){b(!1)},handleAddGraphsDialogOpen:function(){ae(!0)},handleZoomXY:function(e){ze(e)}}),Object(M.jsx)(st,{open:ne,graphs:v,handleClose:function(){ae(!1)},handleAddGraph:function(e,t,n,a,i,r,o){var s=null,c=null,l=null;r&&(s=jt(t.links),c=gt(t.links,a.lambda),l=xt(t));var u={id:e,info:n,nodesLinks:t,params:a,nodesFixed:i,intersections:s,lenQ:c,potentialQ:l,addInvNodes:o},d=v.concat([u]);N(d),He(u,2e3)}}),Object(M.jsx)(bt,{graphLoading:I,graphRenderError:G}),Object(M.jsxs)("div",{className:a.content,children:[Object(M.jsx)(ve,{}),null===J?Object(M.jsx)(F,{drawerOpen:u}):Object(M.jsx)(Ee,{graph:J,isFrozen:Xe,isHeating:Me,handleReheat:Ze,locateXYS:ue,handleSetCursorXYS:function(e,t,n){me({x:Math.round(1e5*e)/1e5,y:Math.round(1e5*t)/1e5,s:Math.round(1e5*n)/1e5})},zoomGo:we,centreGo:Se,checkExpLen:xe,zoomXY:Le,handleAlphaChange:function(e){se(e.toFixed(4))},params:U,handleGraphRenderError:function(){Je(J.id),X(!0),setTimeout((function(){X(!1)}),3e3)},setGraphLoading:E})]})]})})},yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,229)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};o.a.render(Object(M.jsx)(i.a.StrictMode,{children:Object(M.jsx)(vt,{})}),document.getElementById("root")),yt()}},[[166,1,2]]]);
//# sourceMappingURL=main.070803dc.chunk.js.map